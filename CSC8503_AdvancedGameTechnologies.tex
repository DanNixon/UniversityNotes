\documentclass[a4paper]{article}
\def\DOCTITLE{CSC8503 Advanced Game Technologies}
\input{sections/preamble.tex}

% New page for each sub section
\newcommand{\subsectionbreak}{\clearpage}

\begin{document}

\tableofcontents

\vfill
Course material:
\url{https://research.ncl.ac.uk/game/mastersdegree/gametechnologies/}

\section{Physics}

\subsection{Newtonian Dynamics}

\subsubsection{Newton's First law}

\textit{In an intertial reference frame, an object either remains at rest or
continues to move at a constant velocity, unless acted upon by a force.}

\begin{itemize}
  \item
    In a games physics engine forces that would typically dampen the velocity of
    an object in motion (e.g. friction, air resistance, etc.) are abstracted to
    simple damping factors
\end{itemize}

\subsubsection{Newton's Second law}

\textit{In an intertial reference frame, the vector sum of forces on an object
  is equal to the mass of the object multiplied by the acceleration of the
object.}

\[
  F = ma
\]

\subsubsection{Newton's Third law}

\textit{When one body exerts a force on a second body, the second body
  simultaneously exerts a force equal in magnitude and opposite in
direction on the first body.}

\subsubsection{Conservation of Momentum}

\textit{In a closed system, the total momentum is constant.}

\[
  p = mv
\]

In a collision:
\begin{align*}
  p^{i} &= p^{f} \\
  p^{i}_{1} + p^{i}_{2} &= p^{f}_{1} + p^{f}_{2} \\
  m^{i}_{1} v^{i}_{1} + m^{i}_{2} v^{i}_{2} &= m^{f}_{1} v^{f}_{1} + m^{f}_{2} v^{f}_{2}
\end{align*}

\subsubsection{Torque}

\begin{itemize}
  \item
    Result of a force applied to an object a given distance from a pivot point

  \item
    Torque produced by force $F$ at distance from pivot $d$: $\tau = dF$

\end{itemize}

\subsubsection{Inertia}

\begin{itemize}
  \item
    Moment of inertia is the resistance of a rigid body to change in rotational
    motion

  \item
    Moment of inertia defines how mass is distributed about each axis

  \item
    Inertial tensor contains influence of torque in a given axis on the
    acceleration in a given axis.

    \[
      \left [
        \begin{array}{c}
          \tau_{x} \\
          \tau_{y} \\
          \tau_{z}
        \end{array}
      \right ]
      =
      \left [
        \begin{array}{ccc}
          I_{xx} & I_{xy} & I_{xz} \\
          I_{yx} & I_{yy} & I_{yz} \\
          I_{zx} & I_{zy} & I_{zz}
        \end{array}
      \right ]
      \left [
        \begin{array}{c}
          \alpha_{x} \\
          \alpha_{y} \\
          \alpha_{z}
        \end{array}
      \right]
    \]

  \item
    In the inertia tensor the diagonal elements must not be zero and the
    non-diagonal elements must be symmetrical

  \item
    For symmetrical objects the inertia tensor only has non-zero elements in the
    diagonal, therefore for any given axis only torque applied in that axis can
    influence angular acceleration in that axis

  \item
    Solid sphere of radius $r$ and mass $m$:
    \begin{align*}
      i &= \frac{2mr^{2}}{5} \\
      \\
      I &= \left [
        \begin{array}{ccc}
          i & 0 & 0 \\
          0 & i & 0 \\
          0 & 0 & i
        \end{array}
      \right ]
    \end{align*}

  \item
    Solid cuboid of dimensions $(h, w, l)$ and mass $m$:
    \begin{align*}
      I_{xx} &= \frac{1}{12} m \left( h^{2} + w^{2} \right) \\
      I_{yy} &= \frac{1}{12} m \left( l^{2} + w^{2} \right) \\
      I_{zz} &= \frac{1}{12} m \left( h^{2} + l^{2} \right) \\
      \\
      I &= \left [
        \begin{array}{ccc}
          I_{xx} & 0      & 0      \\
          0      & I_{yy} & 0      \\
          0      & 0      & I_{zz}
        \end{array}
      \right ]
    \end{align*}

  \item
    Asymmetrical objects are more computationally expensive than symmetrical
    (due to non-diagonal inertia tensor) and is not always worthwhile in its
    benefit to the simulation

\end{itemize}

\subsection{Physics Engine}

\begin{itemize}
  \item
    Role of physics engine:

    \begin{enumerate}
      \item[1]
        Move objects

      \item[2]
        Detect collisions

      \item[3]
        Resolve collisions

    \end{enumerate}

\end{itemize}

\subsubsection{Orientation}

\begin{itemize}
  \item
    Stored as quaternion

  \item
    $\Theta = \left(
      xsin\left(\frac{\theta}{2}\right),
      ysin\left(\frac{\theta}{2}\right),
      zsin\left(\frac{\theta}{2}\right),
      cos\left(\frac{\theta}{2}\right)
    \right)$

    where $(x, y, z)$ is the axis of rotation and $\theta$ is the angle of
    rotation

\end{itemize}

\subsubsection{Object state}

\begin{itemize}
  \item
    Position, $s = \int v \: dt$

  \item
    Linear Velocity, $v = \int a \: dt$

  \item
    Linear Acceleration, $a = \frac{F}{m}$

  \item
    Force, $F$

  \item
    Mass, $m$

  \item
    Orientation, $\theta = \int \omega \: dt$

    (Represented as quaternion)

  \item
    Angular Velocity, $\omega = \int \alpha \: dt$

  \item
    Angular Acceleration, $\alpha = \frac{\tau}{I}$

  \item
    Torque, $\tau$

  \item
    Inertia, $I$

\end{itemize}

\subsubsection{Physics Representation}

\begin{description}
  \item[Particle] \hfill
    \begin{itemize}
      \item
        Single point in space

      \item
        Has linear motion but no angular motion

      \item
        Has no volume

      \item
        Can be used for particle systems (e.g. smoke, fog, fire, etc.) or for
        when speed of calculations is more important than physical accuracy
        (e.g.  distant objects, off camera objects, etc.)

    \end{itemize}

  \item[Rigid Body] \hfill
    \begin{itemize}
      \item
        Objects are defined as a set of shapes in space

        Complex objects built up of several individual rigid bodies

      \item
        Has linear and angular motion

      \item
        Has volume and mass

      \item
        Shape is constant/non-deformable

      \item
        Used when accurate collision detection and response is required

    \end{itemize}

  \item[Soft Body] \hfill
    \begin{itemize}
      \item
        Represents objects that can change shape/deform

      \item
        Otherwise similar to rigid body

      \item
        More expensive than rigid bodies (both computationally and memory wise)

    \end{itemize}

\end{description}

\begin{table}[]
  \centering
  \begin{tabular}{@{}llllll@{}}
    \toprule
               & Velocity   & Angular    & Volume     & Deformation & Collision    \\
    \midrule
    Particle   & \checkmark & \crossmark & \crossmark & \crossmark  & (\crossmark) \\
    Rigid Body & \checkmark & \checkmark & \checkmark & \crossmark  & (\checkmark) \\
    Soft Body  & \checkmark & \checkmark & \checkmark & \checkmark  & (\checkmark) \\
    \bottomrule
  \end{tabular}
  \label{tab:physical_representation_comparison}
  \caption{Comparison of features of different physical representations}
\end{table}
\FloatBarrier

\begin{itemize}
  \item
    Physics shapes are often different from graphical shapes

  \item
    Physical shape of an object is often an approximation made from several
    small shapes that provides collision detection and response that is
    sufficiently believable for the player

\end{itemize}

\subsubsection{Environment Scaling}

\begin{itemize}
  \item
    Environment scaling is important in ensuring physical accuracy in the system

  \item
    Time step must be small enough to ensure that interfaces between objects are
    detected in a timely manner

  \item
    Too slow a time step, too high a speed or too small a object can all lead to
    interfaces being detected incorrectly (either not at all or with incorrect
    normal and penetration depth)

  \item
    Use of a common scaling system (i.e. not relative to the object (or mesh))

\end{itemize}

\subsection{Numerical integration}

\begin{itemize}
  \item
    Obtaining new value based on its rate of change

  \item
    Multiple uses other than physics simulation

\end{itemize}

\subsubsection{Explicit Euler}

\begin{align*}
  v_{n + 1} &= v_{n} + a_{n} \Delta t \\
  s_{n + 1} &= s_{n} + v_{n} \Delta t
\end{align*}

\begin{itemize}
  \item
    Evaluates entirely within current time step

  \item
    Tends to be unstable unless a very short time step is used

\end{itemize}

\subsubsection{Implicit Euler}

\begin{align*}
  v_{n + 1} &= v_{n} + a_{n + 1} \Delta t \\
  s_{n + 1} &= s_{n} + v_{n + 1} \Delta t
\end{align*}

\begin{itemize}
  \item
    Addresses approximation issues of Explicit Euler by using future state of
    system

  \item
    Knowing future value of acceleration is expensive (to the extent of not
    typically being useful)

\end{itemize}

\subsubsection{Semi-implicit Euler}

\begin{align*}
  v_{n + 1} &= v_{n} + a_{n} \Delta t \\
  s_{n + 1} &= s_{n} + v_{n + 1} \Delta t
\end{align*}

\begin{itemize}
  \item
    Best of both explicit and implicit Euler

  \item
    Uses current acceleration but next velocity

  \item
    Still fast to execute but more stable than explicit Euler

\end{itemize}

\subsubsection{Verlet}

\begin{align*}
  v_{n} &= \frac{s_{n} - s_{n - 1}}{\Delta t} \\
  s_{n + 1} &= s_{n} + v_{n} \Delta t + a_{n} \Delta t^{2}
\end{align*}

\begin{itemize}
  \item
    Does not calculate velocity

  \item
    Second derivative approach

  \item
    Similar computational cost to semi-implicit Euler

  \item
    Can reverse simulation

  \item
    More suited to the penalty method of collision response

  \item
    Requires the initial state to be provided (requires last two positions)

\end{itemize}

\subsubsection{Runge-Kutta (Midpoint) method}

\begin{itemize}
  \item
    Euler methods overlook the change in velocity that occurs throughout a time
    step and only consider the values at the start and end of a step

  \item
    Runge-Kutta methods take changes in velocity during the time step into
    account via several iterations of Euler integrations

  \item
    In RK2 the velocity is predicted at the point half way through the time step
    \[
      s_{n + 1} = s_{n} + v_{n + 0.5} \Delta t
    \]

\end{itemize}

\subsubsection{Other methods}

\begin{itemize}
  \item
    Several more complex iterative integration methods exist

    (e.g. higher orders of Runge-Kutta)

  \item
    Additional accuracy of more complex integration will likely not be noticed
    in gaming physics simulations

  \item
    Better suited for mathematics, engineering and scientific simulations where
    there is a weaker real time constraint or lower agent simulations

\end{itemize}

\subsection{Constraints}

TODO

\subsection{Collision Detection}

TODO

\subsection{Collision Manifolds}

TODO

\subsection{Collision Response}

TODO

\subsection{Solvers}

TODO

\section{Artificial Intelligence}

TODO

\subsection{Finite State Machine}

TODO

\subsection{Path Finding}

TODO

\section{Networking}

TODO

\section{Massively parallel and Heterogeneous computing}

TODO

\end{document}
